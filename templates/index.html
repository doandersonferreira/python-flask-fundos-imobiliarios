<!-- Diretivas para uso do Template Engine (JINJA2) -->
{% extends "template.html" %}
{% block conteudo %}

<div {{ 'hidden' if session['usuario_logado'] != None }} >
    <h2>Olá, investidor(a)! Seja bem vindo(a)!</h2>
    <p>Essa aplicação tem por objetivo principal permitir o gerenciamento de ativos de Fundo de Investimentos Imobiliários (FIIs).</p>
    <p>Por meio dela, será possível visualizar e gerenciar a sua carteira de ativos, por meio de cadastro de operações, informações de Imposto de Renda, etc. </p>
    <p>Faça <a href="/login" class="btn btn-primary">Login</a> ou <a href="/usuario/novo" class="btn btn-secondary">Cadastre-se</a></p>
</div>

<div {{ 'hidden' if session['usuario_logado'] == None }} >
    <h2>
        Olá, {{ session['usuario_logado'][1]}}!
        <a href="/logout" class="btn btn-primary">Logout</a>
    </h2>
    <fieldset>
        {% if ativos %}
        <legend>Minha Carteira:</legend>
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Ativo</th>
                    <th>Cotas</th>
                    <th>Total Aplicado</th>
                    <th>Preço Médio</th>
                </tr>
            </thead>
            <tbody>

            {% for ativo in ativos %}
                <tr>
                    <td>{{ ativo['ativo'] }}</td>
                    <td>{{ ativo['cotas'] }}</td>
                    <td>{{ ativo['valor_aplicado'] }}</td>
                    <td>{{ ativo['preco_medio'] }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>

        {% else %}
            <h4>Você ainda não possui ativos em sua carteira.</h4>
        <p>Clique <a href="/operacao/novo">aqui</a> para cadastrar a sua primeira operação.</p>
        {% endif %}

     </fieldset>
</div>

{% endblock %}